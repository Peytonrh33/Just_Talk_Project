<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Topic Page With Posts</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

</head>
<body style="background-color: #242424;">
    <div class="header" style="color: #bfbfbf; display: flex; align-items: center; justify-content: space-around; margin-bottom: 20px;">
        <div class="title" style="color: #bfbfbf;">
            <h1>{{topic.name}}</h1>
        </div>
        <div class="links">
            <a href="/logout" style="margin-right: 10px;"><button class="btn btn-outline-primary">Logout</button></a>
            <a href="/post/{{topic.id}}"><button class="btn btn-outline-primary">Post</button></a>
        </div>
    </div>
    {% for post in topic.posts%}
    <div class="container-md" style="color: black; background-color: #bfbfbf; padding: 20px;" style="margin-bottom: 15px;">
        <div class="name">
            <h4>{{post.user.username}}</h4>
        </div>
        <div class="description">
            {{post.description}}
        </div>
        <div class="bottom" style="display: flex; justify-content: space-around;">
            {% if post.user_id == session['user_id']%}
            <div class="links">
                <a href="/edit/{{post.id}}" style="margin-right: 30px;" class="btn btn-outline-primary">Edit</a>
                <a href="/post/delete/{{topic.id}}/{{post.id}}" class="btn btn-outline-primary">Delete</a>
            </div>
            {% endif%}
            <div class="date">
                {{post.updated_at}}
            </div>
            <div class="lvl">
                Level of Seriousness: {{post.number}}
            </div>
        </div>
    </div>
    {% endfor %}
</body>
</html>